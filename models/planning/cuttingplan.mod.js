export const qryViewSchSewingForCutting = `SELECT a.SCH_ID, a.SCH_ID_SITELINE,  c.SITE_NAME, c.LINE_NAME, b.MO_NO,
b.ORDER_REFERENCE_PO_NO ORDER_REF,
a.SCH_CAPACITY_ID, a.SCH_START_PROD, a.SCH_FINISH_PROD,
b.ORDER_NO, b.CUSTOMER_NAME, b.CUSTOMER_PROGRAM, b.PRODUCT_ITEM_CODE, 
b.ITEM_COLOR_CODE,  b.ITEM_COLOR_NAME, b.ORDER_STYLE_DESCRIPTION ORDER_STYLE, b.MO_QTY,
a.SCH_QTY, IFNULL(d.LOADING_QTY,0) LOADING_QTY, a.SCH_QTY-IFNULL(d.LOADING_QTY,0) BALANCE_LOADING,
IF(a.SCH_QTY = b.MO_QTY , 'ALL' ,'PARTIAL') SIZE
FROM weekly_prod_schedule a  
LEFT JOIN viewcapacity b ON a.SCH_CAPACITY_ID = b.ID_CAPACITY
LEFT JOIN item_siteline c ON a.SCH_ID_SITELINE = c.ID_SITELINE
LEFT JOIN (
	SELECT a.SCH_ID,  SUM(b.ORDER_QTY) LOADING_QTY
	FROM scan_sewing_in a 
	LEFT JOIN view_order_detail b ON a.BARCODE_SERIAL = b.BARCODE_SERIAL
	WHERE a.SCH_ID IN (
				SELECT DISTINCT a.SCH_ID  FROM weekly_prod_sch_detail a 
  				WHERE a.SCHD_SITE = :site AND  a.SCHD_PROD_DATE BETWEEN :startDate AND :endDate
	) GROUP BY a.SCH_ID
) d ON d.SCH_ID = a.SCH_ID
WHERE a.SCH_SITE = :site AND a.SCH_ID IN  (
	  SELECT DISTINCT a.SCH_ID  FROM weekly_prod_sch_detail a 
	  WHERE a.SCHD_PROD_DATE BETWEEN :startDate AND :endDate
	) OR IFNULL(a.SCH_START_PROD ,'') =  ''
ORDER BY a.SCH_ID_SITELINE, a.SCH_START_PROD ASC
`;

export const getSewingSchSize = `SELECT  a.SCH_ID, a.SCH_ID_SITELINE, b.SIZE_CODE, SUM(b.SCH_SIZE_QTY) SCH_SIZE_QTY, 
IFNULL(c.LOADING_QTY,0) LOADING_QTY, b.SCH_SIZE_QTY-IFNULL(c.LOADING_QTY,0) BALANCE_LOADING
FROM weekly_prod_schedule a
LEFT JOIN  weekly_sch_size b ON a.SCH_ID = b.SCH_ID AND b.SCH_SIZE_QTY <> 0
LEFT JOIN (
    SELECT a.SCH_ID, b.ORDER_SIZE, SUM(b.ORDER_QTY) LOADING_QTY
    FROM scan_sewing_in a 
    LEFT JOIN view_order_detail b ON a.BARCODE_SERIAL = b.BARCODE_SERIAL
    WHERE a.SCH_ID IN (
      SELECT DISTINCT a.SCH_ID  FROM weekly_prod_sch_detail a 
      WHERE a.SCHD_SITE = :site AND  a.SCHD_PROD_DATE BETWEEN :startDate AND :endDate
    ) GROUP BY a.SCH_ID, b.ORDER_SIZE
  ) c ON (c.SCH_ID = b.SCH_ID AND b.SIZE_CODE = c.ORDER_SIZE )
WHERE  a.SCH_SITE = :site AND a.SCH_ID IN  (
    SELECT DISTINCT a.SCH_ID  FROM weekly_prod_sch_detail a 
    WHERE a.SCHD_PROD_DATE BETWEEN :startDate AND :endDate
) OR IFNULL(a.SCH_START_PROD ,'') =  '' 
GROUP BY  a.SCH_ID, a.SCH_ID_SITELINE, b.SIZE_CODE
`;
